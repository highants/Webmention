<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webmention Test - Comment Source</title>
    <meta name="description" content="Webmentionã®é€å—ä¿¡ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®ã‚½ãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã§ã™ã€‚">

    <!-- Webmention Tags (ã“ã® ãƒšãƒ¼ã‚¸ã‚‚Webmentionã‚’å—ã‘å–ã‚Œã‚‹ã‚ˆã†ã«) -->
    <link rel="webmention" href="https://webmention.io/highants.github.io_Webmention/webmention" />
    <link rel="pingback" href="https://webmention.io/highants.github.io_Webmention/xmlrpc" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">
    <style>
        /* Comment Source Page Specific Styles */
        .glass-card {
            border-color: rgba(16, 185, 129, 0.2);
        }

        .badge {
            color: #10b981;
            background: rgba(16, 185, 129, 0.1);
            border-color: rgba(16, 185, 129, 0.2);
        }

        /* Test Status Panel */
        .test-panel {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .test-panel h3 {
            margin: 0 0 1rem 0;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .test-panel h3::before {
            content: "ğŸ§ª";
        }

        /* Status Indicators */
        .status-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 0;
            border-bottom: 1px dashed rgba(255, 255, 255, 0.1);
        }

        .status-item:last-child {
            border-bottom: none;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .status-pending {
            background: #6b7280;
            animation: pulse 2s infinite;
        }

        .status-success {
            background: #10b981;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }

        .status-error {
            background: #ef4444;
        }

        .status-loading {
            background: #f59e0b;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        /* Send Form */
        .send-form {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .send-form h3 {
            margin: 0 0 1rem 0;
            color: var(--text-primary);
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .form-group input {
            width: 100%;
            padding: 0.75rem 1rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 0.5rem;
            color: var(--text-primary);
            font-size: 0.95rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #10b981;
        }

        .form-group input:read-only {
            opacity: 0.7;
            cursor: not-allowed;
        }

        .btn-send {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, #10b981, #059669);
            border: none;
            border-radius: 0.5rem;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-send:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3);
        }

        .btn-send:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Result Display */
        .result-box {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 0.5rem;
            font-family: monospace;
            font-size: 0.85rem;
            max-height: 200px;
            overflow-y: auto;
            display: none;
        }

        .result-box.show {
            display: block;
        }

        .result-success {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: #10b981;
        }

        .result-error {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
        }

        /* Quick Links */
        .quick-links {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin: 1.5rem 0;
        }

        .quick-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 2rem;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.85rem;
            transition: all 0.3s;
        }

        .quick-link:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            border-color: rgba(16, 185, 129, 0.3);
        }

        /* Navigation */
        .nav-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--accent);
            text-decoration: none;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            transition: opacity 0.3s;
        }

        .nav-link:hover {
            opacity: 0.8;
        }

        /* Instructions */
        .instructions {
            background: rgba(99, 102, 241, 0.1);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 1rem;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .instructions h3 {
            margin: 0 0 1rem 0;
            color: #818cf8;
        }

        .instructions ol {
            margin: 0;
            padding-left: 1.5rem;
            color: var(--text-secondary);
            line-height: 1.8;
        }

        .instructions code {
            background: rgba(0, 0, 0, 0.3);
            padding: 0.2rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.85rem;
        }
    </style>
</head>

<body>
    <div class="background-blobs">
        <div class="blob blob-1"></div>
        <div class="blob blob-2" style="background: #10b981;"></div>
        <div class="blob blob-3" style="background: #059669;"></div>
    </div>

    <main class="container h-entry">
        <!-- Navigation -->
        <a href="index.html" class="nav-link">
            â† ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚‹
        </a>

        <article class="glass-card">
            <header class="article-header">
                <div class="badge">Comment Source</div>
                <h1 class="p-name">Webmention ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸</h1>

                <div class="meta">
                    <!-- Author Information (Microformats2) -->
                    <div class="p-author h-card">
                        <img class="u-photo"
                            src="https://ui-avatars.com/api/?name=Test+User&background=10b981&color=fff" alt="Test User"
                            style="border-radius: 50%; width: 24px; vertical-align: middle; margin-right: 8px;">
                        <span class="p-name">Test User</span>
                        <a href="https://highants.github.io/Webmention/" class="u-url" style="display:none;"></a>
                    </div>

                    <time class="dt-published date" datetime="2026-01-19T21:00:00+09:00">2026.01.19</time>
                </div>
            </header>

            <!-- Article Content (Microformats2) -->
            <div class="content e-content">
                <p>ã“ã‚Œã¯Webmentionã®é€å—ä¿¡ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®ã‚½ãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã§ã™ã€‚</p>
                <p>ã“ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰<a href="https://highants.github.io/Webmention/"
                        class="u-in-reply-to">ãƒ¡ã‚¤ãƒ³ã®Webmentionãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸</a>ã¸Webmentionã‚’é€ä¿¡ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã®å‹•ä½œã‚’ç¢ºèªã§ãã¾ã™ã€‚</p>
            </div>

            <!-- Test Status Panel -->
            <div class="test-panel">
                <h3>ãƒ†ã‚¹ãƒˆçŠ¶æ³</h3>
                <ul class="status-list">
                    <li class="status-item">
                        <span class="status-indicator" id="status-page"></span>
                        <span>ã“ã®ãƒšãƒ¼ã‚¸ã®å…¬é–‹çŠ¶æ…‹</span>
                        <span id="status-page-text"
                            style="margin-left: auto; color: var(--text-secondary); font-size: 0.85rem;">ç¢ºèªä¸­...</span>
                    </li>
                    <li class="status-item">
                        <span class="status-indicator" id="status-microformats"></span>
                        <span>Microformats2 ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—</span>
                        <span id="status-mf-text"
                            style="margin-left: auto; color: var(--text-secondary); font-size: 0.85rem;">ç¢ºèªä¸­...</span>
                    </li>
                    <li class="status-item">
                        <span class="status-indicator" id="status-target"></span>
                        <span>ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯</span>
                        <span id="status-target-text"
                            style="margin-left: auto; color: var(--text-secondary); font-size: 0.85rem;">ç¢ºèªä¸­...</span>
                    </li>
                </ul>
            </div>

            <!-- Webmention Send Form -->
            <div class="send-form">
                <h3>ğŸ“¤ Webmention é€ä¿¡ãƒ†ã‚¹ãƒˆ</h3>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">
                    Telegraph APIã‚’ä½¿ç”¨ã—ã¦Webmentionã‚’é€ä¿¡ã—ã¾ã™ã€‚é€ä¿¡å‰ã«ã“ã®ãƒšãƒ¼ã‚¸ãŒGitHub Pagesã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚
                </p>

                <div class="form-group">
                    <label for="source-url">Source URLï¼ˆã“ã®ãƒšãƒ¼ã‚¸ï¼‰</label>
                    <input type="url" id="source-url" value="" placeholder="ã“ã®ãƒšãƒ¼ã‚¸ã®URLãŒè‡ªå‹•å…¥åŠ›ã•ã‚Œã¾ã™" readonly>
                </div>

                <div class="form-group">
                    <label for="target-url">Target URLï¼ˆè¨€åŠå…ˆï¼‰</label>
                    <input type="url" id="target-url" value="https://highants.github.io/Webmention/">
                </div>

                <button class="btn-send" id="btn-send-webmention">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="22" y1="2" x2="11" y2="13"></line>
                        <polygon points="22,2 15,22 11,13 2,9 22,2"></polygon>
                    </svg>
                    Webmention ã‚’é€ä¿¡
                </button>

                <div class="result-box" id="result-box"></div>
            </div>

            <!-- Quick Links -->
            <div class="quick-links">
                <a href="https://telegraph.p3k.io/" target="_blank" class="quick-link">
                    ğŸ“¡ Telegraphï¼ˆæ‰‹å‹•é€ä¿¡ï¼‰
                </a>
                <a href="https://webmention.io/dashboard" target="_blank" class="quick-link">
                    ğŸ“Š Webmention.io Dashboard
                </a>
                <a href="https://indiewebify.me/" target="_blank" class="quick-link">
                    âœ… IndieWebify.Meï¼ˆæ¤œè¨¼ï¼‰
                </a>
                <a href="https://pin13.net/mf2/" target="_blank" class="quick-link">
                    ğŸ” Microformats Parser
                </a>
            </div>

            <!-- Instructions -->
            <div class="instructions">
                <h3>ğŸ“‹ ãƒ†ã‚¹ãƒˆæ‰‹é †</h3>
                <ol>
                    <li>ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’GitHub Pagesã§å…¬é–‹ã—ã¾ã™ï¼ˆSettings â†’ Pagesï¼‰</li>
                    <li>å…¬é–‹å¾Œã€ä¸Šè¨˜ã®Source URLã«æ­£ã—ã„URLãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™</li>
                    <li>ã€ŒWebmentionã‚’é€ä¿¡ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™</li>
                    <li><a href="index.html" style="color: var(--accent);">ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸</a>ã‚’é–‹ãã€ã‚³ãƒ¡ãƒ³ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™</li>
                    <li>é€ä¿¡ã•ã‚ŒãŸWebmentionãŒè¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸã§ã™ï¼</li>
                </ol>
            </div>

            <!-- Received Webmentions Section -->
            <section class="webmentions" id="webmentions">
                <div class="wm-header">
                    <h2>ã“ã®ãƒšãƒ¼ã‚¸ã¸ã®Mentions</h2>
                    <span class="wm-count" id="wm-count">0 Mentions</span>
                </div>

                <div class="wm-loading" id="wm-loading">
                    <div class="spinner"></div>
                    <p>Loading mentions...</p>
                </div>

                <div class="wm-list" id="wm-list">
                    <!-- Comments will be injected here via JavaScript -->
                </div>
            </section>
        </article>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Configuration
            const CURRENT_URL = window.location.href;
            const TARGET_URL = 'https://highants.github.io/Webmention/';
            const PAGE_URL = 'https://highants.github.io/Webmention/comment-test.html';

            // Elements
            const sourceInput = document.getElementById('source-url');
            const targetInput = document.getElementById('target-url');
            const sendBtn = document.getElementById('btn-send-webmention');
            const resultBox = document.getElementById('result-box');
            const wmList = document.getElementById('wm-list');
            const wmCount = document.getElementById('wm-count');
            const wmLoading = document.getElementById('wm-loading');

            // Status indicators
            const statusPage = document.getElementById('status-page');
            const statusMf = document.getElementById('status-microformats');
            const statusTarget = document.getElementById('status-target');
            const statusPageText = document.getElementById('status-page-text');
            const statusMfText = document.getElementById('status-mf-text');
            const statusTargetText = document.getElementById('status-target-text');

            // Set source URL
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                sourceInput.value = PAGE_URL;
                sourceInput.placeholder = 'ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã®ãŸã‚æœ¬ç•ªURLã‚’ä½¿ç”¨';
            } else {
                sourceInput.value = CURRENT_URL.split('?')[0].split('#')[0];
            }

            // Check statuses
            checkStatuses();

            async function checkStatuses() {
                // Check page publication status
                statusPage.className = 'status-indicator status-loading';
                statusMf.className = 'status-indicator status-loading';
                statusTarget.className = 'status-indicator status-loading';

                // Microformats check (local - always passes as it's in the HTML)
                setTimeout(() => {
                    const hasHEntry = document.querySelector('.h-entry');
                    const hasPName = document.querySelector('.p-name');
                    const hasEContent = document.querySelector('.e-content');
                    const hasUInReplyTo = document.querySelector('.u-in-reply-to');

                    if (hasHEntry && hasPName && hasEContent && hasUInReplyTo) {
                        statusMf.className = 'status-indicator status-success';
                        statusMfText.textContent = 'âœ“ æ­£å¸¸';
                    } else {
                        statusMf.className = 'status-indicator status-error';
                        statusMfText.textContent = 'âœ— ä¸è¶³ã‚ã‚Š';
                    }
                }, 500);

                // Target link check
                setTimeout(() => {
                    const targetLink = document.querySelector('.u-in-reply-to');
                    if (targetLink && targetLink.href) {
                        statusTarget.className = 'status-indicator status-success';
                        statusTargetText.textContent = 'âœ“ è¨­å®šæ¸ˆã¿';
                    } else {
                        statusTarget.className = 'status-indicator status-error';
                        statusTargetText.textContent = 'âœ— æœªè¨­å®š';
                    }
                }, 700);

                // Page publication check (try to detect if we're on GitHub Pages)
                setTimeout(() => {
                    const isGitHubPages = window.location.hostname.endsWith('.github.io');
                    const isLocalhost = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';

                    if (isGitHubPages) {
                        statusPage.className = 'status-indicator status-success';
                        statusPageText.textContent = 'âœ“ å…¬é–‹æ¸ˆã¿';
                    } else if (isLocalhost) {
                        statusPage.className = 'status-indicator status-pending';
                        statusPageText.textContent = 'âš  ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ';
                    } else {
                        statusPage.className = 'status-indicator status-pending';
                        statusPageText.textContent = '? ä¸æ˜ãªç’°å¢ƒ';
                    }
                }, 300);
            }

            // Send Webmention via Telegraph
            sendBtn.addEventListener('click', async () => {
                const source = sourceInput.value;
                const target = targetInput.value;

                if (!source || !target) {
                    showResult('Source URLã¨Target URLã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', 'error');
                    return;
                }

                sendBtn.disabled = true;
                sendBtn.innerHTML = '<div class="spinner" style="width:20px;height:20px;border-width:2px;"></div> é€ä¿¡ä¸­...';

                try {
                    // Use Telegraph API
                    const response = await fetch('https://telegraph.p3k.io/api/send', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/x-www-form-urlencoded',
                        },
                        body: `source=${encodeURIComponent(source)}&target=${encodeURIComponent(target)}`
                    });

                    const data = await response.json();

                    if (data.status === 'success' || response.ok) {
                        showResult(`âœ“ Webmentioné€ä¿¡æˆåŠŸ!\n\nSource: ${source}\nTarget: ${target}\n\nãƒ¬ã‚¹ãƒãƒ³ã‚¹: ${JSON.stringify(data, null, 2)}`, 'success');
                    } else {
                        showResult(`âœ— é€ä¿¡ã‚¨ãƒ©ãƒ¼\n\n${JSON.stringify(data, null, 2)}`, 'error');
                    }
                } catch (error) {
                    // CORS error is expected when calling Telegraph from browser
                    // Show alternative instructions
                    showResult(`âš  ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã®ç›´æ¥é€ä¿¡ã¯CORSã®åˆ¶é™ãŒã‚ã‚Šã¾ã™ã€‚\n\nä»£ã‚ã‚Šã«ä»¥ä¸‹ã®æ–¹æ³•ã‚’ãŠè©¦ã—ãã ã•ã„ï¼š\n\n1. Telegraph (https://telegraph.p3k.io/) ã‚’é–‹ã\n2. Source: ${source}\n3. Target: ${target}\n4. ã€ŒSend Webmentionã€ã‚’ã‚¯ãƒªãƒƒã‚¯\n\nã¾ãŸã¯ curl ã‚³ãƒãƒ³ãƒ‰:\ncurl -X POST https://telegraph.p3k.io/api/send -d "source=${source}&target=${target}"`, 'error');
                }

                sendBtn.disabled = false;
                sendBtn.innerHTML = `
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="22" y1="2" x2="11" y2="13"></line>
                        <polygon points="22,2 15,22 11,13 2,9 22,2"></polygon>
                    </svg>
                    Webmention ã‚’é€ä¿¡
                `;
            });

            function showResult(message, type) {
                resultBox.textContent = message;
                resultBox.className = `result-box show result-${type}`;
            }

            // Fetch Webmentions for this page
            fetchWebmentions();

            async function fetchWebmentions() {
                try {
                    const targets = [PAGE_URL];
                    if (PAGE_URL.endsWith('/')) {
                        targets.push(PAGE_URL.slice(0, -1));
                    } else {
                        targets.push(PAGE_URL + '/');
                    }

                    const requests = targets.map(t =>
                        fetch(`https://webmention.io/api/mentions.jf2?target=${encodeURIComponent(t)}`)
                            .then(r => r.json())
                            .catch(() => ({ children: [] }))
                    );

                    const results = await Promise.all(requests);

                    let allMentions = [];
                    const seenIds = new Set();

                    results.forEach(data => {
                        if (data.children) {
                            data.children.forEach(m => {
                                if (!seenIds.has(m['wm-id'])) {
                                    seenIds.add(m['wm-id']);
                                    allMentions.push(m);
                                }
                            });
                        }
                    });

                    allMentions.sort((a, b) => {
                        const dateA = new Date(a.published || a['wm-received']);
                        const dateB = new Date(b.published || b['wm-received']);
                        return dateB - dateA;
                    });

                    if (allMentions.length > 0) {
                        renderMentions(allMentions);
                    } else {
                        wmList.innerHTML = '<p style="text-align:center; color:var(--text-secondary); padding: 2rem;">ã“ã®ãƒšãƒ¼ã‚¸ã¸ã®Webmentionã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“ã€‚</p>';
                    }
                } catch (error) {
                    console.error('Error fetching webmentions:', error);
                    wmList.innerHTML = '<p style="text-align:center; color:var(--text-secondary);">Webmentionã®å–å¾—ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚</p>';
                } finally {
                    wmLoading.style.display = 'none';
                }
            }

            function renderMentions(mentions) {
                wmList.innerHTML = '';
                wmCount.innerText = `${mentions.length} Mentions`;

                mentions.forEach(mention => {
                    const card = createMentionCard(mention);
                    wmList.appendChild(card);
                });
            }

            function createMentionCard(mention) {
                const author = mention.author || {};
                const authorName = author.name || 'Anonymous';
                const authorPhoto = author.photo || 'https://ui-avatars.com/api/?name=' + authorName + '&background=random';
                const url = mention.url || '#';

                const date = new Date(mention.published || mention['wm-received']).toLocaleDateString('ja-JP', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });

                const content = mention.content ? (mention.content.text || mention.content.html || '') : '';
                const displayText = content.length > 200 ? content.substring(0, 200) + '...' : content;

                const entry = document.createElement('div');
                entry.className = 'wm-card';
                entry.innerHTML = `
                    <img src="${authorPhoto}" alt="${authorName}" class="wm-avatar">
                    <div class="wm-body">
                        <div class="wm-meta">
                            <a href="${url}" target="_blank" class="wm-author">${authorName}</a>
                            <span class="wm-date">${date}</span>
                        </div>
                        <div class="wm-text">${displayText || '(No content)'}</div>
                    </div>
                `;
                return entry;
            }
        });
    </script>
</body>

</html>
</CodeContent>
<parameter name="EmptyFile">false